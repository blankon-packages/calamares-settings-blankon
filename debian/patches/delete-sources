From: Lucky Mahendra Purba <luckymahendra080503@gmail.com>
Date: Sun, 25 Jan 2026 15:23:10 +0000
Subject: [PATCH] <short summary of the patch>

TODO: Put a short summary on the line above and replace this paragraph
with a longer explanation of this change. Complete the meta-information
with other relevant fields (see below for details). To make it easier, the
information below has been extracted from the changelog. Adjust it or drop
it.
---
 calamares-install-blankon.desktop | 2 +-
 helpers/calamares-sources-final   | 8 +++++++-
 2 files changed, 8 insertions(+), 2 deletions(-)

diff --git a/calamares-install-blankon.desktop b/calamares-install-blankon.desktop
index dfcdf54..0206753 100644
--- a/calamares-install-blankon.desktop
+++ b/calamares-install-blankon.desktop
@@ -3,7 +3,7 @@ Type=Application
 Version=1.0
 Name=Install BlankOn
 GenericName=Calamares Installer
-Exec=install-blankon
+Exec=calamares-install-blankon
 Comment=Calamares â€” Installer for BlankOn Live
 Keywords=calamares;system;install;blankon;installer
 Icon=install-blankon
diff --git a/helpers/calamares-sources-final b/helpers/calamares-sources-final
index 242e019..5c3490e 100755
--- a/helpers/calamares-sources-final
+++ b/helpers/calamares-sources-final
@@ -1,6 +1,6 @@
 #!/bin/sh
 #
-# Writes the final sources.list file
+# Writes the final sources configuration file in DEB822 format
 #
 
 CHROOT=$(mount | grep proc | grep calamares | awk '{print $3}' | sed -e "s#/proc##g")
@@ -15,4 +15,10 @@ Signed-By: /usr/share/keyrings/blankon-archive-keyring.gpg
 
 EOF
 
+# Remove legacy sources.list if it exists to ensure clean APT configuration
+if [ -f "$CHROOT/etc/apt/sources.list" ]; then
+    echo "Removing legacy /etc/apt/sources.list"
+    rm -f "$CHROOT/etc/apt/sources.list"
+fi
+
 exit 0
